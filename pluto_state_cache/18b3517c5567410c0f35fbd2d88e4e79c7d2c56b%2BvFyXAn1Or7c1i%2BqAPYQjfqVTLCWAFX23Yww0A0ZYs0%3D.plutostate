¥bonds€¬cell_resultsÙ$e0ce06f8-7fd6-11ea-2b59-ff9d69c47d42ˆ¦queuedÂ±published_objects€§runningÂ¦output…¤bodyÚÃ<bond def="x"><canvas id="drawboard" width="200" height="200"></canvas>

<script>
const canvas = document.querySelector("canvas#drawboard")
const ctx = canvas.getContext("2d")

var startX = 80
var startY = 40

function sendvalue() {
	// ğŸ¸ This is how we send the value back to Julia ğŸ¸ //
	const raw = ctx.getImageData(0,0,200,200).data
	canvas.value = raw.buffer
	
	canvas.dispatchEvent(new CustomEvent("input"))
}

function onmove(e){
	ctx.fillStyle = '#ffecec'
	ctx.fillRect(0, 0, 200, 200)
	ctx.fillStyle = '#3f3d6d'
	ctx.fillRect(startX, startY, e.layerX - startX, e.layerY - startY)

	sendvalue()
}

canvas.onmousedown = e => {
	startX = e.layerX
	startY = e.layerY
	canvas.onmousemove = onmove
}

canvas.onmouseup = e => {
	canvas.onmousemove = null
}

// To prevent this code block from showing and hiding
canvas.onclick = e => e.stopPropagation()

// Fire a fake mousemoveevent to show something
onmove({layerX: 130, layerY: 160})

</script>
</bond>°persist_js_stateÂ¤mime©text/html²last_run_timestampËAØg?Rä—¬rootassigneeÀ§cell_idÙ$e0ce06f8-7fd6-11ea-2b59-ff9d69c47d42¹depends_on_disabled_cellsÂ§runtimeÎ(£§erroredÂÙ$61fb01fc-7fe8-11ea-04f6-c1a6fb545a0dˆ¦queuedÂ±published_objects€§runningÂ¦output…¤body °persist_js_stateÂ¤mimeªtext/plain²last_run_timestampËAØg?Q©¬rootassigneeÀ§cell_idÙ$61fb01fc-7fe8-11ea-04f6-c1a6fb545a0d¹depends_on_disabled_cellsÂ§runtimeÍ,§erroredÂÙ$cccd3524-7fd7-11ea-241b-a35f2ca3e245ˆ¦queuedÂ±published_objects€§runningÂ¦output…¤body °persist_js_stateÂ¤mimeªtext/plain²last_run_timestampËAØg?ÙAB¬rootassigneeÀ§cell_idÙ$cccd3524-7fd7-11ea-241b-a35f2ca3e245¹depends_on_disabled_cellsÂ§runtimeÎ¹ì2§erroredÂÙ$1836b868-dd53-11ea-3711-cd4504b2aca0ˆ¦queuedÂ±published_objects€§runningÂ¦output…¤body…¦prefix¶Base.RefValue{Float64}¨elements‘’¡x’³1.637678136026413e9ªtext/plain¤type¦struct¬prefix_short¨RefValue¨objectid°593af32ca4654182°persist_js_stateÂ¤mimeÙ!application/vnd.pluto.tree+object²last_run_timestampËAØg?FîF¬rootassignee£tic§cell_idÙ$1836b868-dd53-11ea-3711-cd4504b2aca0¹depends_on_disabled_cellsÂ§runtimeÍ¼§erroredÂÙ$66181f40-dd53-11ea-22ad-a7f633462733ˆ¦queuedÂ±published_objects€§runningÂ¦output…¤body °persist_js_stateÂ¤mimeªtext/plain²last_run_timestampËAØg?PCÈ¬rootassigneeÀ§cell_idÙ$66181f40-dd53-11ea-22ad-a7f633462733¹depends_on_disabled_cellsÂ§runtimeÍô§erroredÂÙ$59ecd6aa-0fe6-11eb-1e8d-f1f3e99fcd3bˆ¦queuedÂ±published_objects€§runningÂ¦output…¤body§missing°persist_js_stateÂ¤mimeªtext/plain²last_run_timestampËAØg?d»ù¬rootassigneeÀ§cell_idÙ$59ecd6aa-0fe6-11eb-1e8d-f1f3e99fcd3b¹depends_on_disabled_cellsÂ§runtimed§erroredÂÙ$ff660100-7fd7-11ea-080f-d762a0764752ˆ¦queuedÂ±published_objects€§runningÂ¦output…¤body‚£msg¾UndefVarError: str not definedªstacktrace‘…¤call¯top-level scope§inlinedÂ¤fileÙ2bigbond.jl#==#ff660100-7fd7-11ea-080f-d762a0764752¤line¤pathÙh/home/runner/work/disorganised-mess/disorganised-mess/bigbond.jl#==#ff660100-7fd7-11ea-080f-d762a0764752°persist_js_stateÂ¤mimeÙ'application/vnd.pluto.stacktrace+object²last_run_timestampËAØg?È\t¬rootassignee£obj§cell_idÙ$ff660100-7fd7-11ea-080f-d762a0764752¹depends_on_disabled_cellsÂ§runtimeÀ§erroredÃÙ$deb4cf4a-7fd7-11ea-2a63-7b27570cd414ˆ¦queuedÂ±published_objects€§runningÂ¦output…¤body‚£msg¾UndefVarError: obj not definedªstacktrace‘…¤call¯top-level scope§inlinedÂ¤fileÙ2bigbond.jl#==#deb4cf4a-7fd7-11ea-2a63-7b27570cd414¤line¤pathÙh/home/runner/work/disorganised-mess/disorganised-mess/bigbond.jl#==#deb4cf4a-7fd7-11ea-2a63-7b27570cd414°persist_js_stateÂ¤mimeÙ'application/vnd.pluto.stacktrace+object²last_run_timestampËAØg?ÊRT¬rootassigneeÀ§cell_idÙ$deb4cf4a-7fd7-11ea-2a63-7b27570cd414¹depends_on_disabled_cellsÂ§runtimeÀ§erroredÃÙ$a8eb7240-7fe8-11ea-3379-e1f3cd6f4684ˆ¦queuedÂ±published_objects€§runningÂ¦output…¤bodyÙ*endswith (generic function with 7 methods)°persist_js_stateÂ¤mimeªtext/plain²last_run_timestampËAØg?p\–¬rootassigneeÀ§cell_idÙ$a8eb7240-7fe8-11ea-3379-e1f3cd6f4684¹depends_on_disabled_cellsÂ§runtimeÍÍ§erroredÂÙ$27d5bed6-7fe8-11ea-1a8a-af798742d71dˆ¦queuedÂ±published_objects€§runningÂ¦output…¤body‚£msgÙ7syntax: missing last argument in "2:" range expression ªstacktrace‘…¤call¯top-level scope§inlinedÂ¤file¤none¤line¤path¤none°persist_js_stateÂ¤mimeÙ'application/vnd.pluto.stacktrace+object²last_run_timestampËAØg?Qå¬rootassigneeÀ§cell_idÙ$27d5bed6-7fe8-11ea-1a8a-af798742d71d¹depends_on_disabled_cellsÂ§runtimeÀ§erroredÃÙ$fed7690c-7fe8-11ea-221c-edefefcd4aefˆ¦queuedÂ±published_objects€§runningÂ¦output…¤body‚£msgÚMethodError: no method matching append!(::String, ::String)
Closest candidates are:
  append!(!Matched::BitVector, ::Any) at bitarray.jl:782
  append!(!Matched::AbstractVector{T} where T, ::Any) at array.jl:985
  append!(!Matched::AbstractVector{T} where T, ::Any...) at array.jl:988ªstacktrace‘…¤call¯top-level scope§inlinedÃ¤fileÙ2bigbond.jl#==#fed7690c-7fe8-11ea-221c-edefefcd4aef¤line¤pathÙh/home/runner/work/disorganised-mess/disorganised-mess/bigbond.jl#==#fed7690c-7fe8-11ea-221c-edefefcd4aef°persist_js_stateÂ¤mimeÙ'application/vnd.pluto.stacktrace+object²last_run_timestampËAØg?ºrP¬rootassigneeÀ§cell_idÙ$fed7690c-7fe8-11ea-221c-edefefcd4aef¹depends_on_disabled_cellsÂ§runtimeÀ§erroredÃÙ$0522a574-7fe9-11ea-2f03-a1a519041e62ˆ¦queuedÂ±published_objects€§runningÂ¦output…¤body‚£msg¾UndefVarError: str not definedªstacktrace‘…¤call¯top-level scope§inlinedÂ¤fileÙ2bigbond.jl#==#0522a574-7fe9-11ea-2f03-a1a519041e62¤line¤pathÙh/home/runner/work/disorganised-mess/disorganised-mess/bigbond.jl#==#0522a574-7fe9-11ea-2f03-a1a519041e62°persist_js_stateÂ¤mimeÙ'application/vnd.pluto.stacktrace+object²last_run_timestampËAØg?ÆA ¬rootassigneeÀ§cell_idÙ$0522a574-7fe9-11ea-2f03-a1a519041e62¹depends_on_disabled_cellsÂ§runtimeÀ§erroredÃÙ$cd83f1a0-7fe7-11ea-1546-910dec41906eˆ¦queuedÂ±published_objects€§runningÂ¦output…¤body¥false°persist_js_stateÂ¤mimeªtext/plain²last_run_timestampËAØg?}„à¬rootassigneeÀ§cell_idÙ$cd83f1a0-7fe7-11ea-1546-910dec41906e¹depends_on_disabled_cellsÂ§runtimeÍè§erroredÂÙ$25b8e04a-dd53-11ea-2067-adfc77c6b0fcˆ¦queuedÂ±published_objects€§runningÂ¦output…¤body²1.3453829288482666°persist_js_stateÂ¤mimeªtext/plain²last_run_timestampËAØg?\Õ=¬rootassigneeÀ§cell_idÙ$25b8e04a-dd53-11ea-2067-adfc77c6b0fc¹depends_on_disabled_cellsÂ§runtimeÍè§erroredÂ±cell_dependenciesÙ$e0ce06f8-7fd6-11ea-2b59-ff9d69c47d42„´precedence_heuristic	§cell_idÙ$e0ce06f8-7fd6-11ea-2b59-ff9d69c47d42´downstream_cells_map¡x’Ù$25b8e04a-dd53-11ea-2067-adfc77c6b0fcÙ$59ecd6aa-0fe6-11eb-1e8d-f1f3e99fcd3b²upstream_cells_mapˆÙ Main.PlutoRunner.Core.applicable¤Main¤Base®Base.Docs.HTML©@html_strÙ!Main.PlutoRunner.PlutoRunner.Bond¹Main.PlutoRunner.Base.get¥@bindÙ$61fb01fc-7fe8-11ea-04f6-c1a6fb545a0d„´precedence_heuristic	§cell_idÙ$61fb01fc-7fe8-11ea-04f6-c1a6fb545a0d´downstream_cells_map€²upstream_cells_map€Ù$cccd3524-7fd7-11ea-241b-a35f2ca3e245„´precedence_heuristic§cell_idÙ$cccd3524-7fd7-11ea-241b-a35f2ca3e245´downstream_cells_map¤JSON‘Ù$deb4cf4a-7fd7-11ea-2a63-7b27570cd414²upstream_cells_map€Ù$1836b868-dd53-11ea-3711-cd4504b2aca0„´precedence_heuristic	§cell_idÙ$1836b868-dd53-11ea-3711-cd4504b2aca0´downstream_cells_map£tic‘Ù$25b8e04a-dd53-11ea-2067-adfc77c6b0fc²upstream_cells_map‚¤time£RefÙ$66181f40-dd53-11ea-22ad-a7f633462733„´precedence_heuristic	§cell_idÙ$66181f40-dd53-11ea-22ad-a7f633462733´downstream_cells_map€²upstream_cells_map€Ù$59ecd6aa-0fe6-11eb-1e8d-f1f3e99fcd3b„´precedence_heuristic	§cell_idÙ$59ecd6aa-0fe6-11eb-1e8d-f1f3e99fcd3b´downstream_cells_map€²upstream_cells_map¡x‘Ù$e0ce06f8-7fd6-11ea-2b59-ff9d69c47d42Ù$ff660100-7fd7-11ea-080f-d762a0764752„´precedence_heuristic	§cell_idÙ$ff660100-7fd7-11ea-080f-d762a0764752´downstream_cells_map£obj‘Ù$deb4cf4a-7fd7-11ea-2a63-7b27570cd414²upstream_cells_mapƒ¤Dict£str‘Ù$fed7690c-7fe8-11ea-221c-edefefcd4aef¢=>Ù$deb4cf4a-7fd7-11ea-2a63-7b27570cd414„´precedence_heuristic	§cell_idÙ$deb4cf4a-7fd7-11ea-2a63-7b27570cd414´downstream_cells_map€²upstream_cells_mapŠ¦length©JSON.json¥UInt8¤JSON‘Ù$cccd3524-7fd7-11ea-241b-a35f2ca3e245±JSON.Parser.parse£obj‘Ù$ff660100-7fd7-11ea-080f-d762a0764752©codeunits¢|>¦String¦VectorÙ$a8eb7240-7fe8-11ea-3379-e1f3cd6f4684„´precedence_heuristic	§cell_idÙ$a8eb7240-7fe8-11ea-3379-e1f3cd6f4684´downstream_cells_map¨endswith‘Ù$cd83f1a0-7fe7-11ea-1546-910dec41906e²upstream_cells_mapˆ©lastindex¡:¡-¢>=¡+¤view¢==¦VectorÙ$27d5bed6-7fe8-11ea-1a8a-af798742d71d„´precedence_heuristic	§cell_idÙ$27d5bed6-7fe8-11ea-1a8a-af798742d71d´downstream_cells_map€²upstream_cells_map€Ù$fed7690c-7fe8-11ea-221c-edefefcd4aef„´precedence_heuristic	§cell_idÙ$fed7690c-7fe8-11ea-221c-edefefcd4aef´downstream_cells_map£str’Ù$0522a574-7fe9-11ea-2f03-a1a519041e62Ù$ff660100-7fd7-11ea-080f-d762a0764752²upstream_cells_map§append!Ù$0522a574-7fe9-11ea-2f03-a1a519041e62„´precedence_heuristic	§cell_idÙ$0522a574-7fe9-11ea-2f03-a1a519041e62´downstream_cells_map€²upstream_cells_map…¥UInt8£str‘Ù$fed7690c-7fe8-11ea-221c-edefefcd4aef©codeunits¢|>¦VectorÙ$cd83f1a0-7fe7-11ea-1546-910dec41906e„´precedence_heuristic	§cell_idÙ$cd83f1a0-7fe7-11ea-1546-910dec41906e´downstream_cells_map€²upstream_cells_map¨endswith‘Ù$a8eb7240-7fe8-11ea-3379-e1f3cd6f4684Ù$25b8e04a-dd53-11ea-2067-adfc77c6b0fc„´precedence_heuristic	§cell_idÙ$25b8e04a-dd53-11ea-2067-adfc77c6b0fc´downstream_cells_map€²upstream_cells_map„¡-¤time¡x‘Ù$e0ce06f8-7fd6-11ea-2b59-ff9d69c47d42£tic‘Ù$1836b868-dd53-11ea-3711-cd4504b2aca0´cell_execution_orderÙ$cccd3524-7fd7-11ea-241b-a35f2ca3e245Ù$1836b868-dd53-11ea-3711-cd4504b2aca0Ù$66181f40-dd53-11ea-22ad-a7f633462733Ù$e0ce06f8-7fd6-11ea-2b59-ff9d69c47d42Ù$25b8e04a-dd53-11ea-2067-adfc77c6b0fcÙ$59ecd6aa-0fe6-11eb-1e8d-f1f3e99fcd3bÙ$a8eb7240-7fe8-11ea-3379-e1f3cd6f4684Ù$cd83f1a0-7fe7-11ea-1546-910dec41906eÙ$27d5bed6-7fe8-11ea-1a8a-af798742d71dÙ$61fb01fc-7fe8-11ea-04f6-c1a6fb545a0dÙ$fed7690c-7fe8-11ea-221c-edefefcd4aefÙ$0522a574-7fe9-11ea-2f03-a1a519041e62Ù$ff660100-7fd7-11ea-080f-d762a0764752Ù$deb4cf4a-7fd7-11ea-2a63-7b27570cd414´last_hot_reload_timeË        ©shortpathªbigbond.jl®process_status¥ready¤pathÙ@/home/runner/work/disorganised-mess/disorganised-mess/bigbond.jl®last_save_timeËAØg?IŸıªcell_orderÙ$1836b868-dd53-11ea-3711-cd4504b2aca0Ù$66181f40-dd53-11ea-22ad-a7f633462733Ù$25b8e04a-dd53-11ea-2067-adfc77c6b0fcÙ$59ecd6aa-0fe6-11eb-1e8d-f1f3e99fcd3bÙ$e0ce06f8-7fd6-11ea-2b59-ff9d69c47d42Ù$a8eb7240-7fe8-11ea-3379-e1f3cd6f4684Ù$cd83f1a0-7fe7-11ea-1546-910dec41906eÙ$27d5bed6-7fe8-11ea-1a8a-af798742d71dÙ$61fb01fc-7fe8-11ea-04f6-c1a6fb545a0dÙ$fed7690c-7fe8-11ea-221c-edefefcd4aefÙ$0522a574-7fe9-11ea-2f03-a1a519041e62Ù$cccd3524-7fd7-11ea-241b-a35f2ca3e245Ù$ff660100-7fd7-11ea-080f-d762a0764752Ù$deb4cf4a-7fd7-11ea-2a63-7b27570cd414¥nbpkg‡²installed_versions¤JSON¦0.21.2°terminal_outputs‚¤BaseÚ±[32m[1m  No Changes[22m[39m to `/tmp/jl_bcqpeF/Project.toml`
[32m[1m  No Changes[22m[39m to `/tmp/jl_bcqpeF/Manifest.toml`
[32m[1mLoading[22m[39m packages...
[32m[1mPrecompiling[22m[39m project...
[33m  âœ“ [39mJSON
  1 dependency successfully precompiled in 1 seconds (1 already precompiled)
  [33m1[39m dependency precompiled but a different version is currently loaded. Restart julia to access the new version
¤JSONÚ±[32m[1m  No Changes[22m[39m to `/tmp/jl_bcqpeF/Project.toml`
[32m[1m  No Changes[22m[39m to `/tmp/jl_bcqpeF/Manifest.toml`
[32m[1mLoading[22m[39m packages...
[32m[1mPrecompiling[22m[39m project...
[33m  âœ“ [39mJSON
  1 dependency successfully precompiled in 1 seconds (1 already precompiled)
  [33m1[39m dependency precompiled but a different version is currently loaded. Restart julia to access the new version
§enabledÃ·restart_recommended_msgÀ´restart_required_msgÀ­busy_packages¬instantiatedÃ«cell_inputsÙ$e0ce06f8-7fd6-11ea-2b59-ff9d69c47d42„§cell_idÙ$e0ce06f8-7fd6-11ea-2b59-ff9d69c47d42°running_disabledÂ¤codeÚÁ@bind x html"""
<canvas id="drawboard" width="200" height="200"></canvas>

<script>
const canvas = document.querySelector("canvas#drawboard")
const ctx = canvas.getContext("2d")

var startX = 80
var startY = 40

function sendvalue() {
	// ğŸ¸ This is how we send the value back to Julia ğŸ¸ //
	const raw = ctx.getImageData(0,0,200,200).data
	canvas.value = raw.buffer
	
	canvas.dispatchEvent(new CustomEvent("input"))
}

function onmove(e){
	ctx.fillStyle = '#ffecec'
	ctx.fillRect(0, 0, 200, 200)
	ctx.fillStyle = '#3f3d6d'
	ctx.fillRect(startX, startY, e.layerX - startX, e.layerY - startY)

	sendvalue()
}

canvas.onmousedown = e => {
	startX = e.layerX
	startY = e.layerY
	canvas.onmousemove = onmove
}

canvas.onmouseup = e => {
	canvas.onmousemove = null
}

// To prevent this code block from showing and hiding
canvas.onclick = e => e.stopPropagation()

// Fire a fake mousemoveevent to show something
onmove({layerX: 130, layerY: 160})

</script>
"""«code_foldedÂÙ$61fb01fc-7fe8-11ea-04f6-c1a6fb545a0d„§cell_idÙ$61fb01fc-7fe8-11ea-04f6-c1a6fb545a0d°running_disabledÂ¤code «code_foldedÂÙ$cccd3524-7fd7-11ea-241b-a35f2ca3e245„§cell_idÙ$cccd3524-7fd7-11ea-241b-a35f2ca3e245°running_disabledÂ¤codeªusing JSON«code_foldedÂÙ$1836b868-dd53-11ea-3711-cd4504b2aca0„§cell_idÙ$1836b868-dd53-11ea-3711-cd4504b2aca0°running_disabledÂ¤code±tic = Ref(time())«code_foldedÂÙ$66181f40-dd53-11ea-22ad-a7f633462733„§cell_idÙ$66181f40-dd53-11ea-22ad-a7f633462733°running_disabledÂ¤code «code_foldedÂÙ$59ecd6aa-0fe6-11eb-1e8d-f1f3e99fcd3b„§cell_idÙ$59ecd6aa-0fe6-11eb-1e8d-f1f3e99fcd3b°running_disabledÂ¤code¡x«code_foldedÂÙ$ff660100-7fd7-11ea-080f-d762a0764752„§cell_idÙ$ff660100-7fd7-11ea-080f-d762a0764752°running_disabledÂ¤codeÙ+obj = Dict(:a => Dict(:b => str), :c => :d)«code_foldedÂÙ$deb4cf4a-7fd7-11ea-2a63-7b27570cd414„§cell_idÙ$deb4cf4a-7fd7-11ea-2a63-7b27570cd414°running_disabledÂ¤codeÙRJSON.Parser.parse( codeunits(JSON.json(obj)) |> Vector{UInt8} |> String) |> length«code_foldedÂÙ$a8eb7240-7fe8-11ea-3379-e1f3cd6f4684„§cell_idÙ$a8eb7240-7fe8-11ea-3379-e1f3cd6f4684°running_disabledÂ¤codeÙäbegin
	import Base: endswith
	
	function endswith(vec::Vector{T}, suffix::Vector{T}) where T
	    local liv = lastindex(vec)
	    local lis = lastindex(suffix)
	    liv >= lis && (view(vec, (liv-lis + 1):liv) == suffix)
	end
end«code_foldedÂÙ$27d5bed6-7fe8-11ea-1a8a-af798742d71d„§cell_idÙ$27d5bed6-7fe8-11ea-1a8a-af798742d71d°running_disabledÂ¤code½view([1,2,3], 2:end) == [2,3]«code_foldedÂÙ$fed7690c-7fe8-11ea-221c-edefefcd4aef„§cell_idÙ$fed7690c-7fe8-11ea-221c-edefefcd4aef°running_disabledÂ¤codeÙ3begin
	str = "asdfasdfdfas"
	append!(str, "xx")
end«code_foldedÂÙ$0522a574-7fe9-11ea-2f03-a1a519041e62„§cell_idÙ$0522a574-7fe9-11ea-2f03-a1a519041e62°running_disabledÂ¤code¾codeunits(str)|> Vector{UInt8}«code_foldedÂÙ$cd83f1a0-7fe7-11ea-1546-910dec41906e„§cell_idÙ$cd83f1a0-7fe7-11ea-1546-910dec41906e°running_disabledÂ¤code¾endswith([1,2,3], [2,3, 4, 5])«code_foldedÂÙ$25b8e04a-dd53-11ea-2067-adfc77c6b0fc„§cell_idÙ$25b8e04a-dd53-11ea-2067-adfc77c6b0fc°running_disabledÂ¤codeÙ=let
	x
	toc = time()
	Î”t = toc - tic[]
	tic[] = toc
	Î”t
end«code_foldedÂ«notebook_idÙ$9890a6d6-4c6a-11ec-1af8-b7d3ef7c38df«in_temp_dirÂ