Œ¥bonds€¬cell_results…Ù$359596df-78a4-4e9b-aa7b-665ab29dc7ec‡¦queuedÂ±published_objects€§runningÂ¦output…¤bodyÙ<div class="markdown"><p>Modify <code>x</code>, add and remove elements, and notice that preact maintains its state.</p>
</div>°persist_js_stateÂ¤mime©text/html²last_run_timestampËAØ\°ò"¼¬rootassigneeÀ§cell_idÙ$359596df-78a4-4e9b-aa7b-665ab29dc7ec§runtimeÍ.§erroredÂÙ$7e226ea0-dfd6-4f5f-a3c3-88c8bbba97a1‡¦queuedÂ±published_objects€§runningÂ¦output…¤body…¦prefix¹Dict{Symbol, Vector{Any}}¨elements‘’’¢:xªtext/plain’…¦prefix£Any¨elements›’’¥"hi!"ªtext/plain’’¯"pluto is cool"ªtext/plain’’£232ªtext/plain’’¡2ªtext/plain’’¡2ªtext/plain’’¢12ªtext/plain’’¢12ªtext/plain’’¡2ªtext/plain’	’¢21ªtext/plain’
’¡1ªtext/plain’’¡2ªtext/plain¤type¥Array¬prefix_short ¨objectid°60c8b4ea42fda457Ù!application/vnd.pluto.tree+object¤type¤Dict¬prefix_short¤Dict¨objectid°7e692162b0a1d12d°persist_js_stateÂ¤mimeÙ!application/vnd.pluto.tree+object²last_run_timestampËAØ\°õá`5¬rootassignee¥state§cell_idÙ$7e226ea0-dfd6-4f5f-a3c3-88c8bbba97a1§runtimeÍì§erroredÂÙ$e26f37c4-7e6e-11eb-101c-1db0eda6940e‡¦queuedÂ±published_objects€§runningÂ¦output…¤body °persist_js_stateÂ¤mimeªtext/plain²last_run_timestampËAØ\°õRR‡¬rootassigneeÀ§cell_idÙ$e26f37c4-7e6e-11eb-101c-1db0eda6940e§runtimeÎÈİd§erroredÂÙ$e4d31294-5369-4473-b319-3d7962164953‡¦queuedÂ±published_objects€§runningÂ¦output…¤body…¦prefix£Any¨elements›’’¥"hi!"ªtext/plain’’¯"pluto is cool"ªtext/plain’’£232ªtext/plain’’¡2ªtext/plain’’¡2ªtext/plain’’¢12ªtext/plain’’¢12ªtext/plain’’¡2ªtext/plain’	’¢21ªtext/plain’
’¡1ªtext/plain’’¡2ªtext/plain¤type¥Array¬prefix_short ¨objectid°60c8b4ea42fda457°persist_js_stateÂ¤mimeÙ!application/vnd.pluto.tree+object²last_run_timestampËAØ\°õ¼ˆ]¬rootassignee¡x§cell_idÙ$e4d31294-5369-4473-b319-3d7962164953§runtimeÍ!ü§erroredÂÙ$63d20a5e-ef56-4372-8d52-c042b183206b‡¦queuedÂ±published_objects€§runningÂ¦output…¤bodyÚ¯<script type="module" id="asdf">
	//await new Promise(r => setTimeout(r, 1000))
	
	const { html, render, Component, useEffect, useLayoutEffect, useState, useRef, useMemo, createContext, useContext, } = await import( "https://cdn.jsdelivr.net/npm/htm@3.0.4/preact/standalone.mjs")

	const node = this ?? document.createElement("div")
	
	const new_state = {"x":["hi!","pluto is cool",232,2,2,12,12,2,21,1,2]}
	
	if(this == null){
		const Item = ({value}) => {
			const [loading, set_loading] = useState(true)

			useEffect(() => {
				set_loading(true)

				const handle = setTimeout(() => {
					set_loading(false)
				}, 1000)

				return () => clearTimeout(handle)
			}, [value])

			return html`<li>${loading ? 
				html`<em>Loading...</em>` : 
				value
			}</li>`
		}

        const App = () => {

            const [state, set_state] = useState(new_state)
            node.set_app_state = set_state

            return html`<h1>Hello world!</h1>
                <ul>${
                state.x.map((x,i) => html`<${Item} value=${x} key=${i}/>`)
            }</ul>`;
        }



        render(html`<${App}/>`, node);
	
	} else {
		
		node.set_app_state(new_state)
	}
	return node
</script>
	
	
°persist_js_stateÂ¤mime©text/html²last_run_timestampËAØ\°õş¾Y¬rootassigneeÀ§cell_idÙ$63d20a5e-ef56-4372-8d52-c042b183206b§runtimeÎ·ˆú§erroredÂ±cell_dependencies…Ù$359596df-78a4-4e9b-aa7b-665ab29dc7ec„´precedence_heuristic§cell_idÙ$359596df-78a4-4e9b-aa7b-665ab29dc7ec´downstream_cells_map€²upstream_cells_map‚§@md_str¨getindexÙ$7e226ea0-dfd6-4f5f-a3c3-88c8bbba97a1„´precedence_heuristic§cell_idÙ$7e226ea0-dfd6-4f5f-a3c3-88c8bbba97a1´downstream_cells_map¥state‘Ù$63d20a5e-ef56-4372-8d52-c042b183206b²upstream_cells_mapƒ¤Dict¡x‘Ù$e4d31294-5369-4473-b319-3d7962164953¢=>Ù$e26f37c4-7e6e-11eb-101c-1db0eda6940e„´precedence_heuristic§cell_idÙ$e26f37c4-7e6e-11eb-101c-1db0eda6940e´downstream_cells_map¤JSON²upstream_cells_map€Ù$e4d31294-5369-4473-b319-3d7962164953„´precedence_heuristic§cell_idÙ$e4d31294-5369-4473-b319-3d7962164953´downstream_cells_map¡x‘Ù$7e226ea0-dfd6-4f5f-a3c3-88c8bbba97a1²upstream_cells_map€Ù$63d20a5e-ef56-4372-8d52-c042b183206b„´precedence_heuristic§cell_idÙ$63d20a5e-ef56-4372-8d52-c042b183206b´downstream_cells_map€²upstream_cells_mapƒ¤json¤HTML¥state‘Ù$7e226ea0-dfd6-4f5f-a3c3-88c8bbba97a1´cell_execution_order•Ù$e26f37c4-7e6e-11eb-101c-1db0eda6940eÙ$359596df-78a4-4e9b-aa7b-665ab29dc7ecÙ$e4d31294-5369-4473-b319-3d7962164953Ù$7e226ea0-dfd6-4f5f-a3c3-88c8bbba97a1Ù$63d20a5e-ef56-4372-8d52-c042b183206b©shortpath©preact.jl®process_status¥ready¤pathÙ?/home/runner/work/disorganised-mess/disorganised-mess/preact.jlªcell_order•Ù$e26f37c4-7e6e-11eb-101c-1db0eda6940eÙ$359596df-78a4-4e9b-aa7b-665ab29dc7ecÙ$e4d31294-5369-4473-b319-3d7962164953Ù$63d20a5e-ef56-4372-8d52-c042b183206bÙ$7e226ea0-dfd6-4f5f-a3c3-88c8bbba97a1¥nbpkg„²installed_versions¤JSON¦0.21.1§enabledÃ·restart_recommended_msgÀ´restart_required_msgÀ«cell_inputs…Ù$359596df-78a4-4e9b-aa7b-665ab29dc7ecƒ§cell_idÙ$359596df-78a4-4e9b-aa7b-665ab29dc7ec¤codeÙZmd"""
Modify `x`, add and remove elements, and notice that preact maintains its state.
"""«code_foldedÃÙ$7e226ea0-dfd6-4f5f-a3c3-88c8bbba97a1ƒ§cell_idÙ$7e226ea0-dfd6-4f5f-a3c3-88c8bbba97a1¤code¹state = Dict(
	:x => x
	)«code_foldedÂÙ$e26f37c4-7e6e-11eb-101c-1db0eda6940eƒ§cell_idÙ$e26f37c4-7e6e-11eb-101c-1db0eda6940e¤codeªusing JSON«code_foldedÂÙ$e4d31294-5369-4473-b319-3d7962164953ƒ§cell_idÙ$e4d31294-5369-4473-b319-3d7962164953¤codeÙ5x = ["hi!", "pluto is cool", 232,2,2,12 ,12,2,21,1,2]«code_foldedÂÙ$63d20a5e-ef56-4372-8d52-c042b183206bƒ§cell_idÙ$63d20a5e-ef56-4372-8d52-c042b183206b¤codeÚœHTML("""
<script type="module" id="asdf">
	//await new Promise(r => setTimeout(r, 1000))
	
	const { html, render, Component, useEffect, useLayoutEffect, useState, useRef, useMemo, createContext, useContext, } = await import( "https://cdn.jsdelivr.net/npm/htm@3.0.4/preact/standalone.mjs")

	const node = this ?? document.createElement("div")
	
	const new_state = $(json(state))
	
	if(this == null){
		const Item = ({value}) => {
			const [loading, set_loading] = useState(true)

			useEffect(() => {
				set_loading(true)

				const handle = setTimeout(() => {
					set_loading(false)
				}, 1000)

				return () => clearTimeout(handle)
			}, [value])

			return html`<li>\${loading ? 
				html`<em>Loading...</em>` : 
				value
			}</li>`
		}

        const App = () => {

            const [state, set_state] = useState(new_state)
            node.set_app_state = set_state

            return html`<h1>Hello world!</h1>
                <ul>\${
                state.x.map((x,i) => html`<\${Item} value=\${x} key=\${i}/>`)
            }</ul>`;
        }



        render(html`<\${App}/>`, node);
	
	} else {
		
		node.set_app_state(new_state)
	}
	return node
</script>
	
	
""")«code_foldedÂ«notebook_idÙ$4a8cbb50-3340-11ec-0975-a16233218736«in_temp_dirÂ