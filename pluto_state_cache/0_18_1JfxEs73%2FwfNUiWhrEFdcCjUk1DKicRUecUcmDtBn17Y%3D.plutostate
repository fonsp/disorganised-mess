¥bonds€¬cell_resultsÙ$d78c56f5-4b9d-4451-8fc0-bd0f6dd0cbf2‰¦queuedÂ¤logs§runningÂ¦output†¤bodyÚ	î<div>


 <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@1a004af05111894b5ff8916fe82dca320ddb0a1e/frontend/jl_wasm.js"></script>
    <!-- <script src="https://fonsp-julia-wasm-build.netlify.app/hello-no-bysyncify.js"></script> -->
    <script src="https://keno.github.io/julia-wasm-build/hello-no-bysyncify.js"></script>



<textarea style='width: 100%' rows=5></textarea>
<button>Run!</button>

<div class='jl-wasm-output'><marquee>Loading WASM...</marquee></div>

<script>

let div = currentScript.parentElement

let text = div.querySelector("textarea")
let button = div.querySelector("button")
let output_div = div.querySelector(".jl-wasm-output")

text.value = div.value ?? "sqrt.(1:3)"

let currentValue = text.value


Object.defineProperty(div, 'value', {
  get() { return currentValue; },
  set(newValue) { 
	text.value = newValue; 
	currentValue = newValue
	button.click()
},
});




text.addEventListener("input", (e) => {

	e.stopPropagation()
})

text.addEventListener("keydown", e => {
	let is_mac_keyboard = /Mac/.test(navigator.platform)
	let ctrldown = e.ctrlKey || (is_mac_keyboard && e.metaKey)
	if(e.key === "Enter" && (e.shiftKey || ctrldown)) {
		e.preventDefault()
		button.click()
	}

});


const pre = (x) => html`<pre><code>${x}</code></pre>`


let set_output_element = (el) => {
	button.disabled = false
	button.innerText = "Run!"
	output_div.style.opacity = 1
	Array.from(output_div.children).forEach(x => x.remove())
	output_div.append(el)
}


button.addEventListener("click", async (e) => {

	button.disabled = true
	button.innerText = "Loading..."
	output_div.style.opacity = .5

	currentValue = text.value
	e.stopPropagation()
	div.dispatchEvent(new CustomEvent("input"))

	await new Promise(r => setTimeout(r, 0 * 1000)) // for dramatic effect

	await window.jl_wasm.ready
	
	let ran_code = false
	
	try {
		const result_ptr = window.jl_wasm.eval_jl(`

${""}
___post_process = ${"identity"}

___result = begin
${currentValue}
end

___post_process(___result)
`)
	
		ran_code = true
	
		const html_showable = window.jl_wasm.std.html_showable(result_ptr)
	
		const repred = html_showable ? window.jl_wasm.std.repr_html(result_ptr) : window.jl_wasm.std.repr(result_ptr)
	
		let el = html_showable ? 
			(new DOMParser()).parseFromString(repred, "text/html")
				.body.firstElementChild :
			pre(repred)
		set_output_element(el)
		
	} catch (e) {
	
	set_output_element(pre(
			(ran_code ? "Failed to show object" : "Failed to run code") + e))
	}
	
})

button.click()

</script>
</div>
°persist_js_stateÂ¤mime©text/html²last_run_timestampËAØŠ@ ¤Ş'·has_pluto_hook_featuresÂ¬rootassigneeÀ§cell_idÙ$d78c56f5-4b9d-4451-8fc0-bd0f6dd0cbf2¹depends_on_disabled_cellsÂ§runtimeÎ¨µpublished_object_keys§erroredÂÙ$256272d4-1ea3-40d5-953b-cffd2d4b1ba8‰¦queuedÂ¤logs§runningÂ¦output†¤bodyÚ
<bond def="code" unique_id="KKM2sOmPbXle"><div>


 <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@1a004af05111894b5ff8916fe82dca320ddb0a1e/frontend/jl_wasm.js"></script>
    <!-- <script src="https://fonsp-julia-wasm-build.netlify.app/hello-no-bysyncify.js"></script> -->
    <script src="https://keno.github.io/julia-wasm-build/hello-no-bysyncify.js"></script>



<textarea style='width: 100%' rows=5></textarea>
<button>Run!</button>

<div class='jl-wasm-output'><marquee>Loading WASM...</marquee></div>

<script>

let div = currentScript.parentElement

let text = div.querySelector("textarea")
let button = div.querySelector("button")
let output_div = div.querySelector(".jl-wasm-output")

text.value = div.value ?? "1 + 1"

let currentValue = text.value


Object.defineProperty(div, 'value', {
  get() { return currentValue; },
  set(newValue) { 
	text.value = newValue; 
	currentValue = newValue
	button.click()
},
});




text.addEventListener("input", (e) => {

	e.stopPropagation()
})

text.addEventListener("keydown", e => {
	let is_mac_keyboard = /Mac/.test(navigator.platform)
	let ctrldown = e.ctrlKey || (is_mac_keyboard && e.metaKey)
	if(e.key === "Enter" && (e.shiftKey || ctrldown)) {
		e.preventDefault()
		button.click()
	}

});


const pre = (x) => html`<pre><code>${x}</code></pre>`


let set_output_element = (el) => {
	button.disabled = false
	button.innerText = "Run!"
	output_div.style.opacity = 1
	Array.from(output_div.children).forEach(x => x.remove())
	output_div.append(el)
}


button.addEventListener("click", async (e) => {

	button.disabled = true
	button.innerText = "Loading..."
	output_div.style.opacity = .5

	currentValue = text.value
	e.stopPropagation()
	div.dispatchEvent(new CustomEvent("input"))

	await new Promise(r => setTimeout(r, 0 * 1000)) // for dramatic effect

	await window.jl_wasm.ready
	
	let ran_code = false
	
	try {
		const result_ptr = window.jl_wasm.eval_jl(`

${""}
___post_process = ${"identity"}

___result = begin
${currentValue}
end

___post_process(___result)
`)
	
		ran_code = true
	
		const html_showable = window.jl_wasm.std.html_showable(result_ptr)
	
		const repred = html_showable ? window.jl_wasm.std.repr_html(result_ptr) : window.jl_wasm.std.repr(result_ptr)
	
		let el = html_showable ? 
			(new DOMParser()).parseFromString(repred, "text/html")
				.body.firstElementChild :
			pre(repred)
		set_output_element(el)
		
	} catch (e) {
	
	set_output_element(pre(
			(ran_code ? "Failed to show object" : "Failed to run code") + e))
	}
	
})

button.click()

</script>
</div>
</bond>°persist_js_stateÂ¤mime©text/html²last_run_timestampËAØŠ@ ùæó·has_pluto_hook_featuresÂ¬rootassigneeÀ§cell_idÙ$256272d4-1ea3-40d5-953b-cffd2d4b1ba8¹depends_on_disabled_cellsÂ§runtimeÍ$¸µpublished_object_keys§erroredÂÙ$6b5ff8b1-ec53-4b46-9980-44c4847d9eac‰¦queuedÂ¤logs§runningÂ¦output†¤bodyÙ*mini_repl (generic function with 1 method)°persist_js_stateÂ¤mimeªtext/plain²last_run_timestampËAØŠ@ ˆd0·has_pluto_hook_featuresÂ¬rootassigneeÀ§cell_idÙ$6b5ff8b1-ec53-4b46-9980-44c4847d9eac¹depends_on_disabled_cellsÂ§runtimeÎ#"Zµpublished_object_keys§erroredÂÙ$22770ba8-7bcc-484e-bec5-85629e340930‰¦queuedÂ¤logs§runningÂ¦output†¤body§missing°persist_js_stateÂ¤mimeªtext/plain²last_run_timestampËAØŠ@ õÔå·has_pluto_hook_featuresÂ¬rootassigneeÀ§cell_idÙ$22770ba8-7bcc-484e-bec5-85629e340930¹depends_on_disabled_cellsÂ§runtimeÍ-µµpublished_object_keys§erroredÂÙ$a074dec9-e8ab-4956-bfa3-24654d5c5274‰¦queuedÂ¤logs§runningÂ¦output†¤bodyÚ	ñ<div>


 <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@1a004af05111894b5ff8916fe82dca320ddb0a1e/frontend/jl_wasm.js"></script>
    <!-- <script src="https://fonsp-julia-wasm-build.netlify.app/hello-no-bysyncify.js"></script> -->
    <script src="https://keno.github.io/julia-wasm-build/hello-no-bysyncify.js"></script>



<textarea style='width: 100%' rows=5></textarea>
<button>Run!</button>

<div class='jl-wasm-output'><marquee>Loading WASM...</marquee></div>

<script>

let div = currentScript.parentElement

let text = div.querySelector("textarea")
let button = div.querySelector("button")
let output_div = div.querySelector(".jl-wasm-output")

text.value = div.value ?? "x / 99"

let currentValue = text.value


Object.defineProperty(div, 'value', {
  get() { return currentValue; },
  set(newValue) { 
	text.value = newValue; 
	currentValue = newValue
	button.click()
},
});




text.addEventListener("input", (e) => {

	e.stopPropagation()
})

text.addEventListener("keydown", e => {
	let is_mac_keyboard = /Mac/.test(navigator.platform)
	let ctrldown = e.ctrlKey || (is_mac_keyboard && e.metaKey)
	if(e.key === "Enter" && (e.shiftKey || ctrldown)) {
		e.preventDefault()
		button.click()
	}

});


const pre = (x) => html`<pre><code>${x}</code></pre>`


let set_output_element = (el) => {
	button.disabled = false
	button.innerText = "Run!"
	output_div.style.opacity = 1
	Array.from(output_div.children).forEach(x => x.remove())
	output_div.append(el)
}


button.addEventListener("click", async (e) => {

	button.disabled = true
	button.innerText = "Loading..."
	output_div.style.opacity = .5

	currentValue = text.value
	e.stopPropagation()
	div.dispatchEvent(new CustomEvent("input"))

	await new Promise(r => setTimeout(r, 0 * 1000)) // for dramatic effect

	await window.jl_wasm.ready
	
	let ran_code = false
	
	try {
		const result_ptr = window.jl_wasm.eval_jl(`

${"x = 999"}
___post_process = ${"identity"}

___result = begin
${currentValue}
end

___post_process(___result)
`)
	
		ran_code = true
	
		const html_showable = window.jl_wasm.std.html_showable(result_ptr)
	
		const repred = html_showable ? window.jl_wasm.std.repr_html(result_ptr) : window.jl_wasm.std.repr(result_ptr)
	
		let el = html_showable ? 
			(new DOMParser()).parseFromString(repred, "text/html")
				.body.firstElementChild :
			pre(repred)
		set_output_element(el)
		
	} catch (e) {
	
	set_output_element(pre(
			(ran_code ? "Failed to show object" : "Failed to run code") + e))
	}
	
})

button.click()

</script>
</div>
°persist_js_stateÂ¤mime©text/html²last_run_timestampËAØŠ@ ¼@J·has_pluto_hook_featuresÂ¬rootassigneeÀ§cell_idÙ$a074dec9-e8ab-4956-bfa3-24654d5c5274¹depends_on_disabled_cellsÂ§runtimeÎ \Ö¿µpublished_object_keys§erroredÂÙ$a6139adc-e619-458b-8e53-02d89f482d28‰¦queuedÂ¤logs§runningÂ¦output†¤body °persist_js_stateÂ¤mimeªtext/plain²last_run_timestampËAØŠ@¾7¤·has_pluto_hook_featuresÂ¬rootassigneeÀ§cell_idÙ$a6139adc-e619-458b-8e53-02d89f482d28¹depends_on_disabled_cellsÂ§runtimeÎ F‡ºµpublished_object_keys§erroredÂÙ$bddc7a13-d524-42f6-b3c1-24bf63188cc5‰¦queuedÂ¤logs§runningÂ¦output†¤bodyÙ”<div class="markdown"><h4>Exercise 5.2</h4>
<p>ğŸ‘‰ Write an expression that returns <code>true</code>. Given is <code>x &#61; 100</code></p>
</div>°persist_js_stateÂ¤mime©text/html²last_run_timestampËAØŠ@î#…·has_pluto_hook_featuresÂ¬rootassigneeÀ§cell_idÙ$bddc7a13-d524-42f6-b3c1-24bf63188cc5¹depends_on_disabled_cellsÂ§runtimeÎ |µpublished_object_keys§erroredÂÙ$c350fc7c-e519-4e3d-802f-4cbdd6d6b9f5‰¦queuedÂ¤logs§runningÂ¦output†¤body °persist_js_stateÂ¤mimeªtext/plain²last_run_timestampËAØŠ@î2·has_pluto_hook_featuresÂ¬rootassigneeÀ§cell_idÙ$c350fc7c-e519-4e3d-802f-4cbdd6d6b9f5¹depends_on_disabled_cellsÂ§runtimeÎ Mµpublished_object_keys§erroredÂÙ$49ed99c9-3d68-4e64-b292-45d8140fdd0d‰¦queuedÂ¤logs§runningÂ¦output†¤bodyÙd<div class="markdown"><h2>Autograde simple exercises</h2>
<p>Without a Julia process&#33;</p>
</div>°persist_js_stateÂ¤mime©text/html²last_run_timestampËAØŠ@îÃ·has_pluto_hook_featuresÂ¬rootassigneeÀ§cell_idÙ$49ed99c9-3d68-4e64-b292-45d8140fdd0d¹depends_on_disabled_cellsÂ§runtimeÎ —ğµpublished_object_keys§erroredÂÙ$1bbc3534-1a99-421e-b947-7ff4e7e6e0a2‰¦queuedÂ¤logs§runningÂ¦output†¤bodyÚ[

 <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@1a004af05111894b5ff8916fe82dca320ddb0a1e/frontend/jl_wasm.js"></script>
    <!-- <script src="https://fonsp-julia-wasm-build.netlify.app/hello-no-bysyncify.js"></script> -->
    <script src="https://keno.github.io/julia-wasm-build/hello-no-bysyncify.js"></script>

°persist_js_stateÂ¤mime©text/html²last_run_timestampËAØŠ@ q×A·has_pluto_hook_featuresÂ¬rootassigneeªwasm_setup§cell_idÙ$1bbc3534-1a99-421e-b947-7ff4e7e6e0a2¹depends_on_disabled_cellsÂ§runtimeÎ¿Nµpublished_object_keys§erroredÂÙ$22fafdef-9765-427c-816d-04440a613307‰¦queuedÂ¤logs§runningÂ¦output†¤bodyÚ¦<div class="markdown"><h1>Julia WASM as a JS package</h1>
<p>The Julia WASM build can be used to execute Julia code from JavaScript&#33; This notebook shows off two use cases&#33;</p>
<p>For more info, see the <a href="https://github.com/Keno/julia-wasm">Julia WASM project</a> and a demo of <a href="https://pluto-wasm-backend.netlify.app/editor.html">Pluto running inside WASM</a>.</p>
<blockquote>
<p>If you are interested in helping us with WASM development, please get in touch with <a href="https://github.com/fonsp">me</a> or <a href="https://github.com/Keno">Keno Fischer</a>. If you find WASM interesting and useful, please spread the word&#33;</p>
</blockquote>
</div>°persist_js_stateÂ¤mime©text/html²last_run_timestampËAØŠ@íäu·has_pluto_hook_featuresÂ¬rootassigneeÀ§cell_idÙ$22fafdef-9765-427c-816d-04440a613307¹depends_on_disabled_cellsÂ§runtimeÎ P	µpublished_object_keys§erroredÂÙ$5f82e865-213b-472d-a7a2-6dab4fc4caae‰¦queuedÂ¤logs§runningÂ¦output†¤bodyÙD<div class="markdown"><h2>Julia REPL inside your browser</h2>
</div>°persist_js_stateÂ¤mime©text/html²last_run_timestampËAØŠ@íøô·has_pluto_hook_featuresÂ¬rootassigneeÀ§cell_idÙ$5f82e865-213b-472d-a7a2-6dab4fc4caae¹depends_on_disabled_cellsÂ§runtimeÎ àºµpublished_object_keys§erroredÂÙ$64bfadea-6390-413e-8f5a-f29a8b36e58f‰¦queuedÂ¤logs§runningÂ¦output†¤bodyÚ
<bond def="code" unique_id="KKM2sOmPbXle"><div>


 <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@1a004af05111894b5ff8916fe82dca320ddb0a1e/frontend/jl_wasm.js"></script>
    <!-- <script src="https://fonsp-julia-wasm-build.netlify.app/hello-no-bysyncify.js"></script> -->
    <script src="https://keno.github.io/julia-wasm-build/hello-no-bysyncify.js"></script>



<textarea style='width: 100%' rows=5></textarea>
<button>Run!</button>

<div class='jl-wasm-output'><marquee>Loading WASM...</marquee></div>

<script>

let div = currentScript.parentElement

let text = div.querySelector("textarea")
let button = div.querySelector("button")
let output_div = div.querySelector(".jl-wasm-output")

text.value = div.value ?? "1 + 1"

let currentValue = text.value


Object.defineProperty(div, 'value', {
  get() { return currentValue; },
  set(newValue) { 
	text.value = newValue; 
	currentValue = newValue
	button.click()
},
});




text.addEventListener("input", (e) => {

	e.stopPropagation()
})

text.addEventListener("keydown", e => {
	let is_mac_keyboard = /Mac/.test(navigator.platform)
	let ctrldown = e.ctrlKey || (is_mac_keyboard && e.metaKey)
	if(e.key === "Enter" && (e.shiftKey || ctrldown)) {
		e.preventDefault()
		button.click()
	}

});


const pre = (x) => html`<pre><code>${x}</code></pre>`


let set_output_element = (el) => {
	button.disabled = false
	button.innerText = "Run!"
	output_div.style.opacity = 1
	Array.from(output_div.children).forEach(x => x.remove())
	output_div.append(el)
}


button.addEventListener("click", async (e) => {

	button.disabled = true
	button.innerText = "Loading..."
	output_div.style.opacity = .5

	currentValue = text.value
	e.stopPropagation()
	div.dispatchEvent(new CustomEvent("input"))

	await new Promise(r => setTimeout(r, 0 * 1000)) // for dramatic effect

	await window.jl_wasm.ready
	
	let ran_code = false
	
	try {
		const result_ptr = window.jl_wasm.eval_jl(`

${""}
___post_process = ${"identity"}

___result = begin
${currentValue}
end

___post_process(___result)
`)
	
		ran_code = true
	
		const html_showable = window.jl_wasm.std.html_showable(result_ptr)
	
		const repred = html_showable ? window.jl_wasm.std.repr_html(result_ptr) : window.jl_wasm.std.repr(result_ptr)
	
		let el = html_showable ? 
			(new DOMParser()).parseFromString(repred, "text/html")
				.body.firstElementChild :
			pre(repred)
		set_output_element(el)
		
	} catch (e) {
	
	set_output_element(pre(
			(ran_code ? "Failed to show object" : "Failed to run code") + e))
	}
	
})

button.click()

</script>
</div>
</bond>°persist_js_stateÂ¤mime©text/html²last_run_timestampËAØŠ@ è£D·has_pluto_hook_featuresÂ¬rootassignee¦mybond§cell_idÙ$64bfadea-6390-413e-8f5a-f29a8b36e58f¹depends_on_disabled_cellsÂ§runtimeÎ5¦Æµpublished_object_keys§erroredÂÙ$20209643-23ea-4f0c-bdf8-53c83d169ee9‰¦queuedÂ¤logs§runningÂ¦output†¤bodyÚM<div>


 <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@1a004af05111894b5ff8916fe82dca320ddb0a1e/frontend/jl_wasm.js"></script>
    <!-- <script src="https://fonsp-julia-wasm-build.netlify.app/hello-no-bysyncify.js"></script> -->
    <script src="https://keno.github.io/julia-wasm-build/hello-no-bysyncify.js"></script>



<textarea style='width: 100%' rows=5></textarea>
<button>Run!</button>

<div class='jl-wasm-output'><marquee>Loading WASM...</marquee></div>

<script>

let div = currentScript.parentElement

let text = div.querySelector("textarea")
let button = div.querySelector("button")
let output_div = div.querySelector(".jl-wasm-output")

text.value = div.value ?? "sqrt(x) == 10"

let currentValue = text.value


Object.defineProperty(div, 'value', {
  get() { return currentValue; },
  set(newValue) { 
	text.value = newValue; 
	currentValue = newValue
	button.click()
},
});




text.addEventListener("input", (e) => {

	e.stopPropagation()
})

text.addEventListener("keydown", e => {
	let is_mac_keyboard = /Mac/.test(navigator.platform)
	let ctrldown = e.ctrlKey || (is_mac_keyboard && e.metaKey)
	if(e.key === "Enter" && (e.shiftKey || ctrldown)) {
		e.preventDefault()
		button.click()
	}

});


const pre = (x) => html`<pre><code>${x}</code></pre>`


let set_output_element = (el) => {
	button.disabled = false
	button.innerText = "Run!"
	output_div.style.opacity = 1
	Array.from(output_div.children).forEach(x => x.remove())
	output_div.append(el)
}


button.addEventListener("click", async (e) => {

	button.disabled = true
	button.innerText = "Loading..."
	output_div.style.opacity = .5

	currentValue = text.value
	e.stopPropagation()
	div.dispatchEvent(new CustomEvent("input"))

	await new Promise(r => setTimeout(r, 0.5 * 1000)) // for dramatic effect

	await window.jl_wasm.ready
	
	let ran_code = false
	
	try {
		const result_ptr = window.jl_wasm.eval_jl(`

${"x = 100"}
___post_process = ${"begin\n    #= /home/runner/work/disorganised-mess/disorganised-mess/julia-wasm-in-js.jl#==#20209643-23ea-4f0c-bdf8-53c83d169ee9:10 =#\n    result->begin\n            #= /home/runner/work/disorganised-mess/disorganised-mess/julia-wasm-in-js.jl#==#20209643-23ea-4f0c-bdf8-53c83d169ee9:10 =#\n            if !(result isa Bool)\n                #= /home/runner/work/disorganised-mess/disorganised-mess/julia-wasm-in-js.jl#==#20209643-23ea-4f0c-bdf8-53c83d169ee9:11 =#\n                \"You should return true or false\"\n            elseif #= /home/runner/work/disorganised-mess/disorganised-mess/julia-wasm-in-js.jl#==#20209643-23ea-4f0c-bdf8-53c83d169ee9:13 =# result == true\n                #= /home/runner/work/disorganised-mess/disorganised-mess/julia-wasm-in-js.jl#==#20209643-23ea-4f0c-bdf8-53c83d169ee9:14 =#\n                HTML(\"<div style='padding: 1em; margin: 1em; font-family: system-ui; border-radius: 5px; background: lightgreen;'>\\n\\t\\t\\t\\tCorrect!\\n\\t\\t\\t<\/div>\")\n            else\n                #= /home/runner/work/disorganised-mess/disorganised-mess/julia-wasm-in-js.jl#==#20209643-23ea-4f0c-bdf8-53c83d169ee9:19 =#\n                HTML(\"<div style='padding: 1em; margin: 1em; font-family: system-ui; border-radius: 5px; background: #ffbbbb;'>\\n\\t\\t\\t\\tKeep working on it!\\n\\t\\t\\t<\/div>\")\n            end\n        end\nend"}

___result = begin
${currentValue}
end

___post_process(___result)
`)
	
		ran_code = true
	
		const html_showable = window.jl_wasm.std.html_showable(result_ptr)
	
		const repred = html_showable ? window.jl_wasm.std.repr_html(result_ptr) : window.jl_wasm.std.repr(result_ptr)
	
		let el = html_showable ? 
			(new DOMParser()).parseFromString(repred, "text/html")
				.body.firstElementChild :
			pre(repred)
		set_output_element(el)
		
	} catch (e) {
	
	set_output_element(pre(
			(ran_code ? "Failed to show object" : "Failed to run code") + e))
	}
	
})

button.click()

</script>
</div>
°persist_js_stateÂ¤mime©text/html²last_run_timestampËAØŠ@ »8q·has_pluto_hook_featuresÂ¬rootassigneeÀ§cell_idÙ$20209643-23ea-4f0c-bdf8-53c83d169ee9¹depends_on_disabled_cellsÂ§runtimeÎjgŸµpublished_object_keys§erroredÂ±cell_dependenciesÙ$d78c56f5-4b9d-4451-8fc0-bd0f6dd0cbf2„´precedence_heuristic	§cell_idÙ$d78c56f5-4b9d-4451-8fc0-bd0f6dd0cbf2´downstream_cells_map€²upstream_cells_map©mini_repl‘Ù$6b5ff8b1-ec53-4b46-9980-44c4847d9eacÙ$256272d4-1ea3-40d5-953b-cffd2d4b1ba8„´precedence_heuristic	§cell_idÙ$256272d4-1ea3-40d5-953b-cffd2d4b1ba8´downstream_cells_map€²upstream_cells_map¦mybond‘Ù$64bfadea-6390-413e-8f5a-f29a8b36e58fÙ$6b5ff8b1-ec53-4b46-9980-44c4847d9eac„´precedence_heuristic	§cell_idÙ$6b5ff8b1-ec53-4b46-9980-44c4847d9eac´downstream_cells_map©mini_repl”Ù$d78c56f5-4b9d-4451-8fc0-bd0f6dd0cbf2Ù$20209643-23ea-4f0c-bdf8-53c83d169ee9Ù$a074dec9-e8ab-4956-bfa3-24654d5c5274Ù$64bfadea-6390-413e-8f5a-f29a8b36e58f²upstream_cells_mapŒ¦stringªwasm_setup‘Ù$1bbc3534-1a99-421e-b947-7ff4e7e6e0a2·HypertextLiteral.Bypass¸HypertextLiteral.content¦String¤@htl¤Expr¤RealºHypertextLiteral.ScriptTag·HypertextLiteral.Result°HypertextLiteral‘Ù$a6139adc-e619-458b-8e53-02d89f482d28¥UnionÙ$22770ba8-7bcc-484e-bec5-85629e340930„´precedence_heuristic	§cell_idÙ$22770ba8-7bcc-484e-bec5-85629e340930´downstream_cells_map€²upstream_cells_map¤code‘Ù$64bfadea-6390-413e-8f5a-f29a8b36e58fÙ$a074dec9-e8ab-4956-bfa3-24654d5c5274„´precedence_heuristic	§cell_idÙ$a074dec9-e8ab-4956-bfa3-24654d5c5274´downstream_cells_map€²upstream_cells_map©mini_repl‘Ù$6b5ff8b1-ec53-4b46-9980-44c4847d9eacÙ$a6139adc-e619-458b-8e53-02d89f482d28„´precedence_heuristic§cell_idÙ$a6139adc-e619-458b-8e53-02d89f482d28´downstream_cells_map°HypertextLiteral’Ù$6b5ff8b1-ec53-4b46-9980-44c4847d9eacÙ$1bbc3534-1a99-421e-b947-7ff4e7e6e0a2²upstream_cells_map€Ù$bddc7a13-d524-42f6-b3c1-24bf63188cc5„´precedence_heuristic	§cell_idÙ$bddc7a13-d524-42f6-b3c1-24bf63188cc5´downstream_cells_map€²upstream_cells_map¨getindexÙ$c350fc7c-e519-4e3d-802f-4cbdd6d6b9f5„´precedence_heuristic	§cell_idÙ$c350fc7c-e519-4e3d-802f-4cbdd6d6b9f5´downstream_cells_map€²upstream_cells_map€Ù$49ed99c9-3d68-4e64-b292-45d8140fdd0d„´precedence_heuristic	§cell_idÙ$49ed99c9-3d68-4e64-b292-45d8140fdd0d´downstream_cells_map€²upstream_cells_map¨getindexÙ$1bbc3534-1a99-421e-b947-7ff4e7e6e0a2„´precedence_heuristic	§cell_idÙ$1bbc3534-1a99-421e-b947-7ff4e7e6e0a2´downstream_cells_mapªwasm_setup‘Ù$6b5ff8b1-ec53-4b46-9980-44c4847d9eac²upstream_cells_map„·HypertextLiteral.Bypass·HypertextLiteral.Result°HypertextLiteral‘Ù$a6139adc-e619-458b-8e53-02d89f482d28¤@htlÙ$22fafdef-9765-427c-816d-04440a613307„´precedence_heuristic	§cell_idÙ$22fafdef-9765-427c-816d-04440a613307´downstream_cells_map€²upstream_cells_map¨getindexÙ$5f82e865-213b-472d-a7a2-6dab4fc4caae„´precedence_heuristic	§cell_idÙ$5f82e865-213b-472d-a7a2-6dab4fc4caae´downstream_cells_map€²upstream_cells_map¨getindexÙ$64bfadea-6390-413e-8f5a-f29a8b36e58f„´precedence_heuristic	§cell_idÙ$64bfadea-6390-413e-8f5a-f29a8b36e58f´downstream_cells_map‚¦mybond‘Ù$256272d4-1ea3-40d5-953b-cffd2d4b1ba8¤code‘Ù$22770ba8-7bcc-484e-bec5-85629e340930²upstream_cells_map‡¤Core¤Base·PlutoRunner.create_bond«PlutoRunner©mini_repl‘Ù$6b5ff8b1-ec53-4b46-9980-44c4847d9eac¯Core.applicable¨Base.getÙ$20209643-23ea-4f0c-bdf8-53c83d169ee9„´precedence_heuristic	§cell_idÙ$20209643-23ea-4f0c-bdf8-53c83d169ee9´downstream_cells_map€²upstream_cells_map©mini_repl‘Ù$6b5ff8b1-ec53-4b46-9980-44c4847d9eac´cell_execution_orderÙ$a6139adc-e619-458b-8e53-02d89f482d28Ù$22fafdef-9765-427c-816d-04440a613307Ù$5f82e865-213b-472d-a7a2-6dab4fc4caaeÙ$49ed99c9-3d68-4e64-b292-45d8140fdd0dÙ$bddc7a13-d524-42f6-b3c1-24bf63188cc5Ù$c350fc7c-e519-4e3d-802f-4cbdd6d6b9f5Ù$1bbc3534-1a99-421e-b947-7ff4e7e6e0a2Ù$6b5ff8b1-ec53-4b46-9980-44c4847d9eacÙ$d78c56f5-4b9d-4451-8fc0-bd0f6dd0cbf2Ù$20209643-23ea-4f0c-bdf8-53c83d169ee9Ù$a074dec9-e8ab-4956-bfa3-24654d5c5274Ù$64bfadea-6390-413e-8f5a-f29a8b36e58fÙ$22770ba8-7bcc-484e-bec5-85629e340930Ù$256272d4-1ea3-40d5-953b-cffd2d4b1ba8´last_hot_reload_timeË        ©shortpath³julia-wasm-in-js.jl®process_status¥ready¤pathÙI/home/runner/work/disorganised-mess/disorganised-mess/julia-wasm-in-js.jl®last_save_timeËAØŠ@åçyªcell_orderÙ$22fafdef-9765-427c-816d-04440a613307Ù$5f82e865-213b-472d-a7a2-6dab4fc4caaeÙ$d78c56f5-4b9d-4451-8fc0-bd0f6dd0cbf2Ù$49ed99c9-3d68-4e64-b292-45d8140fdd0dÙ$bddc7a13-d524-42f6-b3c1-24bf63188cc5Ù$20209643-23ea-4f0c-bdf8-53c83d169ee9Ù$c350fc7c-e519-4e3d-802f-4cbdd6d6b9f5Ù$a6139adc-e619-458b-8e53-02d89f482d28Ù$22770ba8-7bcc-484e-bec5-85629e340930Ù$6b5ff8b1-ec53-4b46-9980-44c4847d9eacÙ$a074dec9-e8ab-4956-bfa3-24654d5c5274Ù$64bfadea-6390-413e-8f5a-f29a8b36e58fÙ$256272d4-1ea3-40d5-953b-cffd2d4b1ba8Ù$1bbc3534-1a99-421e-b947-7ff4e7e6e0a2±published_objects€¥nbpkg‡²installed_versions°HypertextLiteral¥0.9.3°terminal_outputs°HypertextLiteralÙƒ[32m[1m  No Changes[22m[39m to `/tmp/jl_QQRE5r/Project.toml`
[32m[1m  No Changes[22m[39m to `/tmp/jl_QQRE5r/Manifest.toml`
§enabledÃ·restart_recommended_msgÀ´restart_required_msgÀ­busy_packages¬instantiatedÃ«cell_inputsÙ$d78c56f5-4b9d-4451-8fc0-bd0f6dd0cbf2„§cell_idÙ$d78c56f5-4b9d-4451-8fc0-bd0f6dd0cbf2°running_disabledÂ¤codeÙ%mini_repl(;
	default = "sqrt.(1:3)"
)«code_foldedÂÙ$256272d4-1ea3-40d5-953b-cffd2d4b1ba8„§cell_idÙ$256272d4-1ea3-40d5-953b-cffd2d4b1ba8°running_disabledÂ¤code¦mybond«code_foldedÂÙ$6b5ff8b1-ec53-4b46-9980-44c4847d9eac„§cell_idÙ$6b5ff8b1-ec53-4b46-9980-44c4847d9eac°running_disabledÂ¤codeÚ

function mini_repl(;
	default::String = "1 + 1",
	setup_code::String = "",
	dramatic_timeout::Real = 0,
	post_process_function_code::Union{Expr,String} = "identity",
)
	
	
	
	@htl("""
	<div>
	$(wasm_setup)
	
	<textarea style='width: 100%' rows=5></textarea>
	<button>Run!</button>
	
	<div class='jl-wasm-output'><marquee>Loading WASM...</marquee></div>
	
	<script>
	
	let div = currentScript.parentElement
	
	let text = div.querySelector("textarea")
	let button = div.querySelector("button")
	let output_div = div.querySelector(".jl-wasm-output")
	
	text.value = div.value ?? $(default)
	
	let currentValue = text.value
	
	
	Object.defineProperty(div, 'value', {
	  get() { return currentValue; },
	  set(newValue) { 
		text.value = newValue; 
		currentValue = newValue
		button.click()
	},
	});
	
	
	
	
	text.addEventListener("input", (e) => {
	
		e.stopPropagation()
	})
	
	text.addEventListener("keydown", e => {
		let is_mac_keyboard = /Mac/.test(navigator.platform)
		let ctrldown = e.ctrlKey || (is_mac_keyboard && e.metaKey)
		if(e.key === "Enter" && (e.shiftKey || ctrldown)) {
			e.preventDefault()
			button.click()
		}
	
	});
	
	
	const pre = (x) => html`<pre><code>\${x}</code></pre>`
	
	
	let set_output_element = (el) => {
		button.disabled = false
		button.innerText = "Run!"
		output_div.style.opacity = 1
		Array.from(output_div.children).forEach(x => x.remove())
		output_div.append(el)
	}
	
	
	button.addEventListener("click", async (e) => {
	
		button.disabled = true
		button.innerText = "Loading..."
		output_div.style.opacity = .5
	
		currentValue = text.value
		e.stopPropagation()
		div.dispatchEvent(new CustomEvent("input"))

		await new Promise(r => setTimeout(r, $(dramatic_timeout) * 1000)) // for dramatic effect
	
		await window.jl_wasm.ready
		
		let ran_code = false
		
		try {
			const result_ptr = window.jl_wasm.eval_jl(`

	\${$(setup_code)}
	___post_process = \${$(string(post_process_function_code))}

	___result = begin
	\${currentValue}
	end
	
	___post_process(___result)
	`)
		
			ran_code = true
		
			const html_showable = window.jl_wasm.std.html_showable(result_ptr)
		
			const repred = html_showable ? window.jl_wasm.std.repr_html(result_ptr) : window.jl_wasm.std.repr(result_ptr)
		
			let el = html_showable ? 
				(new DOMParser()).parseFromString(repred, "text/html")
					.body.firstElementChild :
				pre(repred)
			set_output_element(el)
			
		} catch (e) {
		
		set_output_element(pre(
				(ran_code ? "Failed to show object" : "Failed to run code") + e))
		}
		
	})
	
	button.click()
	
	</script>
	</div>
	""")
end«code_foldedÂÙ$22770ba8-7bcc-484e-bec5-85629e340930„§cell_idÙ$22770ba8-7bcc-484e-bec5-85629e340930°running_disabledÂ¤code¤code«code_foldedÂÙ$a074dec9-e8ab-4956-bfa3-24654d5c5274„§cell_idÙ$a074dec9-e8ab-4956-bfa3-24654d5c5274°running_disabledÂ¤codeÙ;mini_repl(;
	setup_code = "x = 999",
	default = "x / 99",
)«code_foldedÂÙ$a6139adc-e619-458b-8e53-02d89f482d28„§cell_idÙ$a6139adc-e619-458b-8e53-02d89f482d28°running_disabledÂ¤code¶using HypertextLiteral«code_foldedÂÙ$bddc7a13-d524-42f6-b3c1-24bf63188cc5„§cell_idÙ$bddc7a13-d524-42f6-b3c1-24bf63188cc5°running_disabledÂ¤codeÙ\md"""
#### Exercise 5.2
ğŸ‘‰ Write an expression that returns `true`. Given is `x = 100`
"""«code_foldedÃÙ$c350fc7c-e519-4e3d-802f-4cbdd6d6b9f5„§cell_idÙ$c350fc7c-e519-4e3d-802f-4cbdd6d6b9f5°running_disabledÂ¤code «code_foldedÂÙ$49ed99c9-3d68-4e64-b292-45d8140fdd0d„§cell_idÙ$49ed99c9-3d68-4e64-b292-45d8140fdd0d°running_disabledÂ¤codeÙ@md"""
## Autograde simple exercises
Without a Julia process!
"""«code_foldedÃÙ$1bbc3534-1a99-421e-b947-7ff4e7e6e0a2„§cell_idÙ$1bbc3534-1a99-421e-b947-7ff4e7e6e0a2°running_disabledÂ¤codeÚvwasm_setup = @htl("""


 <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@1a004af05111894b5ff8916fe82dca320ddb0a1e/frontend/jl_wasm.js"></script>
    <!-- <script src="https://fonsp-julia-wasm-build.netlify.app/hello-no-bysyncify.js"></script> -->
    <script src="https://keno.github.io/julia-wasm-build/hello-no-bysyncify.js"></script>

""")
«code_foldedÂÙ$22fafdef-9765-427c-816d-04440a613307„§cell_idÙ$22fafdef-9765-427c-816d-04440a613307°running_disabledÂ¤codeÚ)md"""
# Julia WASM as a JS package

The Julia WASM build can be used to execute Julia code from JavaScript! This notebook shows off two use cases!

For more info, see the [Julia WASM project](https://github.com/Keno/julia-wasm) and a demo of [Pluto running inside WASM](https://pluto-wasm-backend.netlify.app/editor.html).

> If you are interested in helping us with WASM development, please get in touch with [me](https://github.com/fonsp) or [Keno Fischer](https://github.com/Keno). If you find WASM interesting and useful, please spread the word!
"""«code_foldedÃÙ$5f82e865-213b-472d-a7a2-6dab4fc4caae„§cell_idÙ$5f82e865-213b-472d-a7a2-6dab4fc4caae°running_disabledÂ¤codeÙ+md"""
## Julia REPL inside your browser
"""«code_foldedÃÙ$64bfadea-6390-413e-8f5a-f29a8b36e58f„§cell_idÙ$64bfadea-6390-413e-8f5a-f29a8b36e58f°running_disabledÂ¤code¿mybond = @bind code mini_repl()«code_foldedÂÙ$20209643-23ea-4f0c-bdf8-53c83d169ee9„§cell_idÙ$20209643-23ea-4f0c-bdf8-53c83d169ee9°running_disabledÂ¤codeÚ&mini_repl(;
	default = "sqrt(x) == 10",
	
	setup_code = "x = 100",

	dramatic_timeout = 0.5,
	
	post_process_function_code = quote
		
		result -> if !isa(result, Bool)
			"You should return true or false"
			
		elseif result == true
			HTML("<div style='padding: 1em; margin: 1em; font-family: system-ui; border-radius: 5px; background: lightgreen;'>
				Correct!
			</div>")
			
		else
			HTML("<div style='padding: 1em; margin: 1em; font-family: system-ui; border-radius: 5px; background: #ffbbbb;'>
				Keep working on it!
			</div>")
		end
	end
)«code_foldedÂ«notebook_idÙ$72e6fab6-9fdf-11ec-1832-39f9ea16126a«in_temp_dirÂ